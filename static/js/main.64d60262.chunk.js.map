{"version":3,"sources":["../../src/context.js","../../src/router.js","../../src/utils.js","../../src/hooks.js","../../src/switch.js","../../src/route.js","../../src/link.js","About.js","App.js","index.js"],"names":["Context","createContext","history","createBrowserHistory","Router","children","useState","location","setLocation","useEffect","unlisten","pathname","value","match","path","url","params","isExact","matchPath","keys","pathToRegexp","regexp","values","isRoot","acc","key","useLocation","useContext","useMatch","Switch","contextMatch","computedMatch","Children","isValidElement","element","child","cloneElement","Route","Link","to","rest","href","onClick","e","About","id","App","ReactDOM","render","document","getElementById"],"mappings":"qNAEMA,EAAUC,wBAAhB,MCEMC,EAAUC,cAQVC,EAAS,SAAC,GAAiB,IAAfC,EAAe,EAAfA,SAAe,EACCC,mBAASJ,EADV,UACxBK,EADwB,KACdC,EADc,KAG/BC,qBAAU,WACR,IAAMC,EAAW,UAAe,gBAAGH,EAAH,kBAAkBC,EAAlB,MAChC,OAAO,kBAAME,OAFfD,IAKA,IAfwBE,EAelBC,EAAQ,CACZV,QADY,EAEZK,SAFY,EAGZM,OAlBsBF,EAkBEJ,EAAD,SAlBa,CACtCO,KADsC,IAEtCC,IAFsC,IAGtCC,OAHsC,GAItCC,QAAsB,MAAbN,KAiBT,OAAO,kBAACX,EAAD,UAAkBY,MAAOA,GAAhC,ICxBIM,EAAY,SAACP,EAAUG,GAC3B,IAAMK,EAAN,GAEMN,EADSO,YAAaN,EAA5B,GACcO,KAAd,GAEA,MAAY,OAAO,KALiB,IAO7BN,EAAkBF,EAPW,GAOrBS,EAAUT,EAPW,SAQ9BU,EAAST,SAAf,KAA+BC,EAO/B,MAAO,CACLC,OANaG,EAAA,QAAY,gBAEzB,OADAK,EAAIC,EAAJD,MAAgBF,EAAhBE,GACA,IAFF,IAOET,IAAKQ,EAAS,IAAMR,ICbXW,EAAc,kBAAMC,wBAAN,UAEdC,EAAW,kBAAMD,wBAAN,OCJlBE,EAAS,SAAC,GAAiB,IAI/B,EAJgBxB,EAAe,EAAfA,SACVE,EAAWmB,IACXI,EAAeF,IAGjBG,EAAJ,KAUA,OARAC,sBAA2B,YACrBD,UAA0BE,yBAA9B,KACEC,IACAH,EAAgBI,aACZjB,EAAUX,EAAD,SAAoB4B,QADjBA,MAAhBJ,MAKGA,EACHK,uBAAaF,EAAS,CAAE3B,SAAF,EAAYwB,kBADtC,MCdIM,EAAQ,SAAC,GAAsC,IAApCvB,EAAoC,EAApCA,KAAMT,EAA8B,EAA9BA,SAAU0B,EAAoB,EAApBA,cACvBpB,EAAae,IAD8B,SAE7Cb,EAAQkB,GAAiBb,EAAUP,EAAzC,GAEA,OACE,kBAACX,EAAD,UAAkBY,MAAOC,GAAQA,EAAQR,EAD3C,O,+MCNF,IAAMiC,EAAO,SAAC,GAA8B,IAA5BC,EAA4B,EAA5BA,GAAIlC,EAAwB,EAAxBA,SAAamC,E,oIAAW,sBACpCtC,EHAwByB,wBAAN,QGOxB,OACE,8BAAac,KAAb,EAAuBC,QANL,SAACC,GACnBA,mBACAzC,aAGF,ICDa0C,G,KAND,WAAO,IACXC,EJKqBlB,wBAAN,OILfkB,GAER,OAAO,6CAASA,KC0BHC,EA5BH,WACV,OACE,oCACE,kBAAC,EAAD,KACE,4BACE,4BACE,kBAAC,EAAD,CAAMP,GAAG,KAAT,SAEF,4BACE,kBAAC,EAAD,CAAMA,GAAG,UAAT,UAEF,4BACE,kBAAC,EAAD,CAAMA,GAAG,iBAAT,kBAGJ,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAOzB,KAAK,KAAZ,QACA,kBAAC,EAAD,CAAOA,KAAK,UAAZ,SACA,kBAAC,EAAD,CAAOA,KAAK,cACV,kBAAC,EAAD,OAEF,kBAAC,EAAD,qBCpBViC,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U","file":"static/js/main.64d60262.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nconst Context = createContext(null)\n\nexport default Context\n","import React, { useState, useEffect } from 'react'\nimport { createBrowserHistory } from 'history'\nimport Context from './context'\n\nconst history = createBrowserHistory()\nconst computeRootMatch = (pathname) => ({\n  path: '/',\n  url: '/',\n  params: {},\n  isExact: pathname === '/'\n})\n\nconst Router = ({ children }) => {\n  const [location, setLocation] = useState(history.location)\n\n  useEffect(() => {\n    const unlisten = history.listen(({ location }) => setLocation(location))\n    return () => unlisten()\n  }, [])\n\n  const value = {\n    history,\n    location,\n    match: computeRootMatch(location.pathname)\n  }\n\n  return <Context.Provider value={value}>{children}</Context.Provider>\n}\n\nexport default Router\n","import { pathToRegexp } from 'path-to-regexp'\n\nconst matchPath = (pathname, path) => {\n  const keys = []\n  const regexp = pathToRegexp(path, keys)\n  const match = regexp.exec(pathname)\n\n  if (!match) return null\n\n  const [url, ...values] = match\n  const isRoot = path === '/' && url === ''\n\n  const params = keys.reduce((acc, key, index) => {\n    acc[key.name] = values[index]\n    return acc\n  }, {})\n\n  return {\n    params,\n    url: isRoot ? '/' : url\n  }\n}\n\nexport { matchPath }\n","import { useContext } from 'react'\nimport Context from './context'\nimport { matchPath } from './utils'\n\nexport const useHistory = () => useContext(Context).history\n\nexport const useLocation = () => useContext(Context).location\n\nexport const useMatch = () => useContext(Context).match\n\nexport const useParams = () => useContext(Context).params\n\nexport const useRouterMatch = (path) => {\n  const { pathname } = useLocation()\n  const match = useMatch()\n\n  return path ? matchPath(pathname, path) : match\n}\n","import { Children, isValidElement, cloneElement } from 'react'\nimport { useLocation, useMatch } from './hooks'\nimport { matchPath } from './utils'\n\nconst Switch = ({ children }) => {\n  const location = useLocation()\n  const contextMatch = useMatch()\n\n  let element\n  let computedMatch = null\n\n  Children.forEach(children, (child) => {\n    if (computedMatch === null && isValidElement(child)) {\n      element = child\n      computedMatch = child.props.path\n        ? matchPath(location.pathname, child.props.path)\n        : contextMatch\n    }\n  })\n  return computedMatch\n    ? cloneElement(element, { location, computedMatch })\n    : null\n}\n\nexport default Switch\n","import React from 'react'\nimport { useLocation } from './hooks'\nimport Context from './context'\nimport { matchPath } from './utils'\n\nconst Route = ({ path, children, computedMatch }) => {\n  const { pathname } = useLocation()\n  const match = computedMatch || matchPath(pathname, path)\n\n  return (\n    <Context.Provider value={match}>{match ? children : null}</Context.Provider>\n  )\n}\n\nexport default Route\n","import React from 'react'\nimport { useHistory } from './hooks'\n\nconst Link = ({ to, children, ...rest }) => {\n  const history = useHistory()\n\n  const handleClick = (e) => {\n    e.preventDefault()\n    history.push(to)\n  }\n\n  return (\n    <a {...rest} href={to} onClick={handleClick}>\n      {children}\n    </a>\n  )\n}\n\nexport default Link\n","import React from 'react'\nimport { useParams } from 'react-router'\nimport 'react-router/dist/index.css'\n\nconst About = () => {\n  const { id } = useParams()\n\n  return <>About {id}</>\n}\n\nexport default About\n","import React from 'react'\nimport { Router, Switch, Route, Link } from 'react-router'\nimport About from './About'\nimport 'react-router/dist/index.css'\n\nconst App = () => {\n  return (\n    <>\n      <Router>\n        <ul>\n          <li>\n            <Link to='/'>Home</Link>\n          </li>\n          <li>\n            <Link to='/story'>Story</Link>\n          </li>\n          <li>\n            <Link to='/about/houhou'>About Houhou</Link>\n          </li>\n        </ul>\n        <Switch>\n          <Route path='/'>Home</Route>\n          <Route path='/story'>Story</Route>\n          <Route path='/about/:id'>\n            <About />\n          </Route>\n          <Route>No match</Route>\n        </Switch>\n      </Router>\n    </>\n  )\n}\n\nexport default App\n","import './index.css'\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}